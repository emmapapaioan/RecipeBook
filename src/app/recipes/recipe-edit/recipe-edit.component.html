<app-recipe-detail></app-recipe-detail>

<div *ngIf="recipeService.getRecipeEditMode()">
    <form (ngSubmit)="onSave(form)" #form="ngForm">

        <div class="row mb-2">
            <div class="col-md-12">
                <h1>Edit Recipe</h1>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col-md-12">
                <div class="btn-toolbar mb-2" role="toolbar" aria-label="Toolbar with button groups">
                    <div class="btn btn-success mr-2" type="submit" aria-label="...">Save</div>
                    <div class="btn btn-danger" type="submit" aria-label="..." (click)="onCancel()">Cancel</div>
                </div>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col-md-12 form-group">
                <label for="description">Description</label>
                <textarea name="description" type="text" id="description" class="form-control" #descriptionInput
                    [(ngModel)]="recipe.description" (input)="adjustTextareaHeight(descriptionInput)"
                    rows="1"></textarea>
            </div>
        </div>

        <div *ngFor="let ingredient of recipe.ingredients; let i = index">
            <div class="row">
                <div class="col-md-5">
                    <div class="form-group">
                        <label for="ingredient{{i}}">Ingredient</label>
                        <input 
                            type="text" 
                            id="ingredient{{i}}" 
                            name="ingredient{{i}}" 
                            class="form-control" 
                            [(ngModel)]="ingredient.name" 
                            required>
                    </div>
                </div>
            
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="amount{{i}}">Amount</label>
                        <input 
                            type="number" 
                            id="amount{{i}}" 
                            name="amount{{i}}" 
                            class="form-control" 
                            [(ngModel)]="ingredient.amount" 
                            required 
                            pattern="^[1-9]+[0-9]*$">
                    </div>
                </div>
            </div>
        </div>
        
        
        

    </form>
</div>